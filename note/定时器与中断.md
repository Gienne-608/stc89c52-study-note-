## 定时器相关寄存器学习

## 定时器使用步骤

第一步：设置特殊功能寄存器 TMOD，配置好工作模式。

第二步：设置计数寄存器 TH0 和 TL0 的初值。

第三步：设置 TCON，通过 TR0 置 1 来让定时器开始计数。

第四步：判断 TCON 寄存器的 TF0 位，监测定时器溢出情况。

```c
void Time0_Init()
{
	TMOD = 0x01; //设置定时器工作模式，M1 M0构成一个十六位定时器
	IE 	 = 0x82;
	TH0  = 0x4c; // TH0.TL0适用于定时器T0.高八位低八位都在0x00时复位，根据计算，设置高位初始值0x4c,定时器复位时间大概为50ms
	TL0  = 0x00;	
	TR0 = 1;		//所以如果要让定时器工作,TR0 就必须置 1
}
```

## 中断
定时器与中断的区分：定时器为模块中的资源，中断为单片机中的一个机制

### 中断相关寄存器

中断使能、中断优先级寄存器

中断函数写好后，当满足条件的中断被触发时，系统自动来调用中断函数。
